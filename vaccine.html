async function loadVaccineRecords() {
    const vaccineTable = document.getElementById("vaccineTable");
    vaccineTable.innerHTML = "";

    const vaccineSnapshot = await getDocs(collection(db, "vaccine"));
    const childrenSnapshot = await getDocs(collection(db, "children"));
    const childrenMap = {};

    // Create a map of childId -> ChildName
    childrenSnapshot.forEach((childDoc) => {
        childrenMap[childDoc.id] = childDoc.data().ChildName;
    });

    vaccineSnapshot.forEach((docSnap) => {
        const vaccine = docSnap.data();
        const vaccineId = docSnap.id;
        const childName = childrenMap[vaccine.childId] || "Unknown";

        const row = document.createElement("tr");

        // Apply soft green background color for completed vaccines
        if (vaccine.status === 'completed') {
            row.style.backgroundColor = '#d4edda'; // soft green
        }

        row.innerHTML = `
            <td>${childName}</td>
            <td>${vaccine.status}</td>
            <td>${vaccine.vaccineDate}</td>
            <td>${vaccine.vaccineType}</td>
            <td>
                <button class="button" onclick="editVaccine('${vaccineId}')">Edit</button>
                <button class="button button-secondary" onclick="deleteVaccine('${vaccineId}')">Delete</button>
                <button class="button button-complete" onclick="completeVaccine('${vaccineId}')" ${vaccine.status === 'completed' ? 'style="display:none"' : ''}>Complete</button>
            </td>
        `;
        vaccineTable.appendChild(row);
    });
}
